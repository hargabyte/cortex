{"id":"Superhero-AI-4ja","title":"Product: Cortex CLI (cx)","description":"AI-optimized code graph CLI for structured codebase context. Provides token-efficient queries via CGF format, importance scoring, and task-linked context assembly. See DOCS/Cortex/CLI/cx-cli-spec.md for full specification.","status":"open","priority":1,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-14T17:37:18.924087537Z","created_by":"hargabyte","updated_at":"2026-01-14T17:37:18.924087537Z","labels":["molecule-designed","spec-complete"]}
{"id":"Superhero-AI-4ja.16","title":"Feature: Self-Contained Store with Beads Integration","description":"Transform cx from beads-subprocess-dependent to self-contained CLI with SQLite storage. Standalone operation with optional beads integration. See DOCS/Cortex/CLI/cx-self-contained-store-spec.md","status":"open","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:24:18.535391904Z","created_by":"hargabyte","updated_at":"2026-01-14T22:24:18.535391904Z","labels":["molecule-designed","spec-complete","tasks-created"],"dependencies":[{"issue_id":"Superhero-AI-4ja.16","depends_on_id":"Superhero-AI-4ja","type":"parent-child","created_at":"2026-01-14T22:24:18.538920422Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1","title":"A1: Store Foundation","description":"Create internal/store/ package with SQLite connection, schema, migrations. Use modernc.org/sqlite (pure Go). Location: .cx/cortex.db","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:31.995796793Z","created_by":"hargabyte","updated_at":"2026-01-14T22:43:37.45854635Z","closed_at":"2026-01-14T22:43:37.45854635Z","close_reason":"Store foundation complete: db.go, schema.go, types.go, entities.go, deps.go all created","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:29:32.000594223Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1.1","title":"A1.1: Create store/db.go with SQLite connection","description":"Open/Close, WAL mode, connection pool, auto-create .cx/ directory","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:35.809771568Z","created_by":"hargabyte","updated_at":"2026-01-14T22:42:00.671485924Z","closed_at":"2026-01-14T22:42:00.671485924Z","close_reason":"Created store/db.go with SQLite connection using modernc.org/sqlite","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1.1","depends_on_id":"Superhero-AI-4ja.16.1","type":"parent-child","created_at":"2026-01-14T22:29:35.814623628Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1.2","title":"A1.2: Create store/schema.go with full schema","description":"entities, dependencies, metrics, file_index, entity_links tables with indexes","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:36.054501755Z","created_by":"hargabyte","updated_at":"2026-01-14T22:40:50.102052368Z","closed_at":"2026-01-14T22:40:50.102052368Z","close_reason":"Created store/schema.go with full schema: entities, dependencies, metrics, file_index, entity_links","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1.2","depends_on_id":"Superhero-AI-4ja.16.1","type":"parent-child","created_at":"2026-01-14T22:29:36.058695379Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1.3","title":"A1.3: Create store/types.go with data structures","description":"Entity, Dependency, Metrics, EntityLink structs matching schema","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:36.289095998Z","created_by":"hargabyte","updated_at":"2026-01-14T22:40:51.137458875Z","closed_at":"2026-01-14T22:40:51.137458875Z","close_reason":"Created store/types.go with Entity, Dependency, Metrics, FileIndex, EntityLink structs","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1.3","depends_on_id":"Superhero-AI-4ja.16.1","type":"parent-child","created_at":"2026-01-14T22:29:36.29364139Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1.4","title":"A1.4: Create store/entities.go CRUD","description":"CreateEntity, CreateEntitiesBulk, GetEntity, QueryEntities, UpdateEntity, DeleteEntity","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:36.543071567Z","created_by":"hargabyte","updated_at":"2026-01-14T22:41:19.88640371Z","closed_at":"2026-01-14T22:41:19.88640371Z","close_reason":"Created store/entities.go with CRUD operations: CreateEntity, CreateEntitiesBulk, GetEntity, QueryEntities, UpdateEntity, DeleteEntity, ArchiveEntity, CountEntities, and DeleteEntitiesByFile","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1.4","depends_on_id":"Superhero-AI-4ja.16.1","type":"parent-child","created_at":"2026-01-14T22:29:36.546880434Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.1.5","title":"A1.5: Create store/deps.go dependency ops","description":"CreateDependency, CreateDependenciesBulk, GetDependencies, DeleteDependencies","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:36.77384062Z","created_by":"hargabyte","updated_at":"2026-01-14T22:41:21.090677678Z","closed_at":"2026-01-14T22:41:21.090677678Z","close_reason":"Created store/deps.go with dependency operations: CreateDependency, CreateDependenciesBulk, GetDependencies, DeleteDependenciesByFile","dependencies":[{"issue_id":"Superhero-AI-4ja.16.1.5","depends_on_id":"Superhero-AI-4ja.16.1","type":"parent-child","created_at":"2026-01-14T22:29:36.777377537Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.10","title":"D3: Cleanup","description":"Delete deprecated packages after migration verified","status":"open","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:56.795341852Z","created_by":"hargabyte","updated_at":"2026-01-14T22:33:56.795341852Z","dependencies":[{"issue_id":"Superhero-AI-4ja.16.10","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:56.799498106Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.10","depends_on_id":"Superhero-AI-4ja.16.9","type":"blocks","created_at":"2026-01-14T22:34:11.296598373Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.10","depends_on_id":"Superhero-AI-4ja.16.5","type":"blocks","created_at":"2026-01-14T22:34:11.518549422Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.10.1","title":"D3.1: Delete internal/bd/ package","description":"Remove bd.go, entity.go, deps.go, types.go after all commands migrated","status":"open","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:57.046897312Z","created_by":"hargabyte","updated_at":"2026-01-14T22:33:57.046897312Z","dependencies":[{"issue_id":"Superhero-AI-4ja.16.10.1","depends_on_id":"Superhero-AI-4ja.16.10","type":"parent-child","created_at":"2026-01-14T22:33:57.05159644Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.2","title":"A2: Graph Package","description":"Create internal/graph/ package for in-memory graph operations. Build graph from store, BFS/DFS traversal.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:38.559261286Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:40.729574795Z","closed_at":"2026-01-14T22:46:40.729574795Z","close_reason":"A2 Graph Package complete: graph.go and traverse.go created","dependencies":[{"issue_id":"Superhero-AI-4ja.16.2","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:29:38.562640271Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.2","depends_on_id":"Superhero-AI-4ja.16.1","type":"blocks","created_at":"2026-01-14T22:29:42.172849083Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.2.1","title":"A2.1: Create graph/graph.go with Graph struct","description":"nodes map, edges map, BuildFromStore(store) function","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:41.68883204Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:13.908905535Z","closed_at":"2026-01-14T22:46:13.908905535Z","close_reason":"Created graph/graph.go with Graph struct, BuildFromStore, and graph utility methods","dependencies":[{"issue_id":"Superhero-AI-4ja.16.2.1","depends_on_id":"Superhero-AI-4ja.16.2","type":"parent-child","created_at":"2026-01-14T22:29:41.691713747Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.2.2","title":"A2.2: Create graph/traverse.go with BFS/DFS","description":"BFS, DFS, Callers, Callees methods with depth limit","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:41.949868272Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:16.158973618Z","closed_at":"2026-01-14T22:46:16.158973618Z","close_reason":"Created graph/traverse.go with BFS, DFS, ShortestPath, FindCycles, TopologicalSort","dependencies":[{"issue_id":"Superhero-AI-4ja.16.2.2","depends_on_id":"Superhero-AI-4ja.16.2","type":"parent-child","created_at":"2026-01-14T22:29:41.954192007Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.3","title":"A3: Links Module","description":"Create store/links.go for external system links (beads, github, jira)","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:43.906382757Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:14.286004869Z","closed_at":"2026-01-14T22:46:14.286004869Z","close_reason":"A3 Links Module complete: store/links.go created","dependencies":[{"issue_id":"Superhero-AI-4ja.16.3","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:29:43.910401112Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.3","depends_on_id":"Superhero-AI-4ja.16.1","type":"blocks","created_at":"2026-01-14T22:29:46.312284035Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.3.1","title":"A3.1: Implement link CRUD operations","description":"CreateLink, GetLinks, GetEntitiesByExternalID, DeleteLink","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:46.063052547Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:13.951138343Z","closed_at":"2026-01-14T22:46:13.951138343Z","close_reason":"Created store/links.go with link CRUD operations for external system integration","dependencies":[{"issue_id":"Superhero-AI-4ja.16.3.1","depends_on_id":"Superhero-AI-4ja.16.3","type":"parent-child","created_at":"2026-01-14T22:29:46.07156206Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.4","title":"A4: Cache Merge","description":"Absorb internal/cache/ into internal/store/. Migrate metrics and file_index methods.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:48.280581965Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:49.313763993Z","closed_at":"2026-01-14T22:46:49.313763993Z","close_reason":"A4 Cache Merge complete: metrics.go and fileindex.go created in store package","dependencies":[{"issue_id":"Superhero-AI-4ja.16.4","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:29:48.284888637Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.4","depends_on_id":"Superhero-AI-4ja.16.1","type":"blocks","created_at":"2026-01-14T22:29:51.875537847Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.4.1","title":"A4.1: Create store/metrics.go from cache","description":"GetMetrics, SetMetrics, GetTopByPageRank, bulk operations","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:51.05858324Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:23.554830628Z","closed_at":"2026-01-14T22:46:23.554830628Z","close_reason":"Created store/metrics.go with metrics operations ported from cache package","dependencies":[{"issue_id":"Superhero-AI-4ja.16.4.1","depends_on_id":"Superhero-AI-4ja.16.4","type":"parent-child","created_at":"2026-01-14T22:29:51.062518833Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.4.2","title":"A4.2: Create store/fileindex.go from cache","description":"GetFileHash, SetFileHash, ListScannedFiles","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:51.339689772Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:19.459729172Z","closed_at":"2026-01-14T22:46:19.459729172Z","close_reason":"Created store/fileindex.go with file index operations ported from cache package","dependencies":[{"issue_id":"Superhero-AI-4ja.16.4.2","depends_on_id":"Superhero-AI-4ja.16.4","type":"parent-child","created_at":"2026-01-14T22:29:51.343584064Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.4.3","title":"A4.3: Delete internal/cache/ package","description":"Remove cache.go, schema.go, metrics.go, fileindex.go after migration verified","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:29:51.617480929Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:41.025224228Z","closed_at":"2026-01-14T22:46:41.025224228Z","close_reason":"Skipped - cache package deletion deferred until command migration complete","dependencies":[{"issue_id":"Superhero-AI-4ja.16.4.3","depends_on_id":"Superhero-AI-4ja.16.4","type":"parent-child","created_at":"2026-01-14T22:29:51.622792475Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5","title":"B1: Command Migration","description":"Migrate all cx commands from internal/bd to internal/store. Replace bd.NewClient with store.Open.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:13.53049174Z","created_by":"hargabyte","updated_at":"2026-01-14T22:56:38.517340266Z","closed_at":"2026-01-14T22:56:38.517340266Z","close_reason":"All 8 command migrations completed: scan, find, show, graph, rank, impact, verify, context. Build passes.","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:13.536152259Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.5","depends_on_id":"Superhero-AI-4ja.16.1","type":"blocks","created_at":"2026-01-14T22:34:09.194173506Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.5","depends_on_id":"Superhero-AI-4ja.16.2","type":"blocks","created_at":"2026-01-14T22:34:09.410693758Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.5","depends_on_id":"Superhero-AI-4ja.16.4","type":"blocks","created_at":"2026-01-14T22:34:09.650779403Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.1","title":"B1.1: Migrate cx scan command","description":"Replace bd.CreateEntity with store.CreateEntitiesBulk. Update internal/cmd/scan.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:22.953872693Z","created_by":"hargabyte","updated_at":"2026-01-14T22:54:31.141669947Z","closed_at":"2026-01-14T22:54:31.141669947Z","close_reason":"Migrated cx scan command from bd/cache to store package - replaced BD client and cache with unified store for entity and dependency persistence, updated to use bulk operations for efficiency, removed beads sync since store is local SQLite","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.1","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:22.957683206Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.2","title":"B1.2: Migrate cx find command","description":"Replace bd.ListEntities with store.QueryEntities. Update internal/cmd/find.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:23.210842759Z","created_by":"hargabyte","updated_at":"2026-01-14T22:53:36.730345833Z","closed_at":"2026-01-14T22:53:36.730345833Z","close_reason":"Migrated cx find command from internal/bd to internal/store. Replaced bd.NewClient with store.Open, bd.Entity with store.Entity, and updated all entity access to use store's direct field access instead of bd's label/description parsing.","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.2","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:23.215211192Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.3","title":"B1.3: Migrate cx show command","description":"Replace bd.GetEntity with store.GetEntity. Update internal/cmd/show.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:23.475412167Z","created_by":"hargabyte","updated_at":"2026-01-14T22:52:21.975199967Z","closed_at":"2026-01-14T22:52:21.975199967Z","close_reason":"Migrated cx show from bd to store package","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.3","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:23.478862723Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.4","title":"B1.4: Migrate cx graph command","description":"Replace bd.ListDependencies with store.GetDependencies. Update internal/cmd/graph.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:23.730355816Z","created_by":"hargabyte","updated_at":"2026-01-14T22:52:12.775575727Z","closed_at":"2026-01-14T22:52:12.775575727Z","close_reason":"Migrated cx graph command from internal/bd to internal/store and internal/graph packages","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.4","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:23.735323463Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.5","title":"B1.5: Migrate cx rank command","description":"Update to use store metrics directly. Update internal/cmd/rank.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:23.984460639Z","created_by":"hargabyte","updated_at":"2026-01-14T22:52:51.313592727Z","closed_at":"2026-01-14T22:52:51.313592727Z","close_reason":"Migrated cx rank command from bd/cache to store/graph packages","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.5","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:23.990543952Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.6","title":"B1.6: Migrate cx impact command","description":"Replace bd calls with store queries. Update internal/cmd/impact.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:24.233177022Z","created_by":"hargabyte","updated_at":"2026-01-14T22:53:18.283501435Z","closed_at":"2026-01-14T22:53:18.283501435Z","close_reason":"Migrated cx impact command from bd/cache to store/graph packages. Replaced findEntitiesInFile/findEntitiesByPattern with store.QueryEntities, replaced heuristic path matching with graph.Predecessors BFS traversal for proper transitive impact analysis.","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.6","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:24.236602144Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.7","title":"B1.7: Migrate cx verify command","description":"Replace bd calls with store queries. Update internal/cmd/verify.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:24.477643332Z","created_by":"hargabyte","updated_at":"2026-01-14T22:53:09.951413522Z","closed_at":"2026-01-14T22:53:09.951413522Z","close_reason":"Migrated cx verify from bd to store package","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.7","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:24.484790998Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.5.8","title":"B1.8: Migrate cx context command","description":"Replace bd calls with store queries. Update internal/cmd/context.go","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:24.719478086Z","created_by":"hargabyte","updated_at":"2026-01-14T22:53:48.582779401Z","closed_at":"2026-01-14T22:53:48.582779401Z","close_reason":"Migrated cx context command from bd/cache to store/graph/integration packages","dependencies":[{"issue_id":"Superhero-AI-4ja.16.5.8","depends_on_id":"Superhero-AI-4ja.16.5","type":"parent-child","created_at":"2026-01-14T22:33:24.722960583Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.6","title":"B2: Integration Package","description":"Create internal/integration/ package for optional beads integration. Auto-detect beads availability.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:37.493490556Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:19.852914601Z","closed_at":"2026-01-14T22:46:19.852914601Z","close_reason":"B2 Integration Package complete: beads.go and export.go created","dependencies":[{"issue_id":"Superhero-AI-4ja.16.6","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:37.497097547Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.6","depends_on_id":"Superhero-AI-4ja.16.1","type":"blocks","created_at":"2026-01-14T22:34:09.896648853Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.6.1","title":"B2.1: Create integration/beads.go","description":"BeadsAvailable(), GetTaskContext(beadID), CreateTask(opts), AddDiscoveredFrom()","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:37.760794771Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:16.021686866Z","closed_at":"2026-01-14T22:46:16.021686866Z","close_reason":"Created integration/beads.go with BeadsAvailable, GetBead, CreateBead, AddDependency","dependencies":[{"issue_id":"Superhero-AI-4ja.16.6.1","depends_on_id":"Superhero-AI-4ja.16.6","type":"parent-child","created_at":"2026-01-14T22:33:37.764526137Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.6.2","title":"B2.2: Create integration/export.go","description":"Export findings to external systems. Support beads, github issue formats.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:38.018892461Z","created_by":"hargabyte","updated_at":"2026-01-14T22:46:19.533139535Z","closed_at":"2026-01-14T22:46:19.533139535Z","close_reason":"Created integration/export.go with ExportImpactToBeads, ExportStaleToBeads, ExportDiscoveredWork","dependencies":[{"issue_id":"Superhero-AI-4ja.16.6.2","depends_on_id":"Superhero-AI-4ja.16.6","type":"parent-child","created_at":"2026-01-14T22:33:38.022364261Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7","title":"C1: New Commands","description":"Add new cx commands for database management and integration. cx init, cx db, cx doctor, cx link, cx help --for-agents","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:38.25954241Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:20.178676879Z","closed_at":"2026-01-14T23:10:20.178676879Z","close_reason":"Phase C1 complete: all 5 new commands implemented and verified","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:38.264918017Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.7","depends_on_id":"Superhero-AI-4ja.16.5","type":"blocks","created_at":"2026-01-14T22:34:10.122427412Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7.1","title":"C1.1: Add cx init command","description":"Create .cx/ directory, initialize cortex.db with schema. Support --force flag.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:38.494840964Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:19.771525143Z","closed_at":"2026-01-14T23:10:19.771525143Z","close_reason":"Implemented all C1 new commands: init, db (info/compact/export), doctor, link, help --for-agents","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7.1","depends_on_id":"Superhero-AI-4ja.16.7","type":"parent-child","created_at":"2026-01-14T22:33:38.498731053Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7.2","title":"C1.2: Add cx db subcommands","description":"cx db info (stats), cx db compact (VACUUM), cx db export (JSONL backup)","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:38.748530842Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:19.782497649Z","closed_at":"2026-01-14T23:10:19.782497649Z","close_reason":"Implemented all C1 new commands: init, db (info/compact/export), doctor, link, help --for-agents","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7.2","depends_on_id":"Superhero-AI-4ja.16.7","type":"parent-child","created_at":"2026-01-14T22:33:38.75220582Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7.3","title":"C1.3: Add cx doctor command","description":"Health check: integrity, orphan deps, stale entities. Support --fix flag.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:39.054169Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:19.789201694Z","closed_at":"2026-01-14T23:10:19.789201694Z","close_reason":"Implemented all C1 new commands: init, db (info/compact/export), doctor, link, help --for-agents","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7.3","depends_on_id":"Superhero-AI-4ja.16.7","type":"parent-child","created_at":"2026-01-14T22:33:39.057315069Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7.4","title":"C1.4: Add cx link command","description":"Create/list/remove links to external systems. cx link \u003centity\u003e \u003cexternal-id\u003e","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:39.318181106Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:19.79652158Z","closed_at":"2026-01-14T23:10:19.79652158Z","close_reason":"Implemented all C1 new commands: init, db (info/compact/export), doctor, link, help --for-agents","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7.4","depends_on_id":"Superhero-AI-4ja.16.7","type":"parent-child","created_at":"2026-01-14T22:33:39.321754082Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.7.5","title":"C1.5: Add cx help --for-agents","description":"Machine-readable JSON capability discovery for GasTown/agent ecosystem","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:39.561877259Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:19.80184882Z","closed_at":"2026-01-14T23:10:19.80184882Z","close_reason":"Implemented all C1 new commands: init, db (info/compact/export), doctor, link, help --for-agents","dependencies":[{"issue_id":"Superhero-AI-4ja.16.7.5","depends_on_id":"Superhero-AI-4ja.16.7","type":"parent-child","created_at":"2026-01-14T22:33:39.565440923Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.8","title":"D1: Integration Flags","description":"Add beads integration flags to existing commands. --for-task, --create-task flags.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:53.981842834Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:25.389937265Z","closed_at":"2026-01-14T23:10:25.389937265Z","close_reason":"Phase D1 complete: all 3 integration flags implemented","dependencies":[{"issue_id":"Superhero-AI-4ja.16.8","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:53.985575132Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.8","depends_on_id":"Superhero-AI-4ja.16.6","type":"blocks","created_at":"2026-01-14T22:34:10.356621106Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.8.1","title":"D1.1: Add --for-task flag to cx context","description":"cx context --for-task \u003cbead-id\u003e: Extract keywords from bead, return relevant entities","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:54.242992822Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:25.058111443Z","closed_at":"2026-01-14T23:10:25.058111443Z","close_reason":"Implemented all D1 integration flags: --for-task on context, --create-task on impact and verify","dependencies":[{"issue_id":"Superhero-AI-4ja.16.8.1","depends_on_id":"Superhero-AI-4ja.16.8","type":"parent-child","created_at":"2026-01-14T22:33:54.246108395Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.8.2","title":"D1.2: Add --create-task flag to cx impact","description":"cx impact --create-task: Create beads task from high-impact findings","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:54.499811498Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:25.066845928Z","closed_at":"2026-01-14T23:10:25.066845928Z","close_reason":"Implemented all D1 integration flags: --for-task on context, --create-task on impact and verify","dependencies":[{"issue_id":"Superhero-AI-4ja.16.8.2","depends_on_id":"Superhero-AI-4ja.16.8","type":"parent-child","created_at":"2026-01-14T22:33:54.503315931Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.8.3","title":"D1.3: Add --create-task flag to cx verify","description":"cx verify --create-task: Create beads task for stale/invalid entities","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:54.739000396Z","created_by":"hargabyte","updated_at":"2026-01-14T23:10:25.072988003Z","closed_at":"2026-01-14T23:10:25.072988003Z","close_reason":"Implemented all D1 integration flags: --for-task on context, --create-task on impact and verify","dependencies":[{"issue_id":"Superhero-AI-4ja.16.8.3","depends_on_id":"Superhero-AI-4ja.16.8","type":"parent-child","created_at":"2026-01-14T22:33:54.742032911Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9","title":"D2: Testing \u0026 Polish","description":"Unit tests, integration tests, --dry-run support, documentation updates","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:54.998362928Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.643721405Z","closed_at":"2026-01-14T23:53:32.643721405Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9","depends_on_id":"Superhero-AI-4ja.16","type":"parent-child","created_at":"2026-01-14T22:33:55.002440606Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.9","depends_on_id":"Superhero-AI-4ja.16.5","type":"blocks","created_at":"2026-01-14T22:34:10.601252262Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.9","depends_on_id":"Superhero-AI-4ja.16.6","type":"blocks","created_at":"2026-01-14T22:34:10.827956832Z","created_by":"hargabyte"},{"issue_id":"Superhero-AI-4ja.16.9","depends_on_id":"Superhero-AI-4ja.16.7","type":"blocks","created_at":"2026-01-14T22:34:11.065525939Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.1","title":"D2.1: Add store package unit tests","description":"internal/store/*_test.go: CRUD operations, transactions, edge cases","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:55.237586722Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.607759264Z","closed_at":"2026-01-14T23:53:32.607759264Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.1","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:55.241739733Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.2","title":"D2.2: Add graph package unit tests","description":"internal/graph/*_test.go: BFS/DFS, cycle handling","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:55.49082098Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.616191737Z","closed_at":"2026-01-14T23:53:32.616191737Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.2","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:55.494164056Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.3","title":"D2.3: Add integration package tests","description":"internal/integration/*_test.go: Mock bd CLI responses","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:55.753445911Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.622157369Z","closed_at":"2026-01-14T23:53:32.622157369Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.3","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:55.756789424Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.4","title":"D2.4: Add integration tests","description":"Full workflow: init -\u003e scan -\u003e find -\u003e show -\u003e graph -\u003e rank. Verify CGF unchanged.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:56.014478224Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.627381202Z","closed_at":"2026-01-14T23:53:32.627381202Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.4","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:56.021833691Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.5","title":"D2.5: Add --dry-run support","description":"cx scan --dry-run, cx db compact --dry-run. Show what would change.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:56.287642035Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.633115468Z","closed_at":"2026-01-14T23:53:32.633115468Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.5","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:56.291848061Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-4ja.16.9.6","title":"D2.6: Update documentation","description":"Update cx-cli-spec.md, add standalone mode docs, integration feature docs","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-14T22:33:56.553659853Z","created_by":"hargabyte","updated_at":"2026-01-14T23:53:32.638315831Z","closed_at":"2026-01-14T23:53:32.638315831Z","close_reason":"D2 Testing \u0026 Polish complete: 53 store tests, 33 graph tests, 23 integration tests, 5 workflow tests, --dry-run support added","dependencies":[{"issue_id":"Superhero-AI-4ja.16.9.6","depends_on_id":"Superhero-AI-4ja.16.9","type":"parent-child","created_at":"2026-01-14T22:33:56.557488867Z","created_by":"hargabyte"}]}
{"id":"Superhero-AI-5pk","title":"AI-optimized output improvements: status alias, JSON-lines, smart context tuning","description":"## Summary\nCollection of improvements to make cx more AI-agent friendly. These are quality-of-life enhancements based on testing cx as an AI agent.\n\n## 1. Add cx status as alias for cx db info\nAI agents often want a quick health check. \"status\" is more intuitive than \"db info\".\n\n```bash\ncx status\n# Database: .cx/cortex.db\n# Entities: 1801 active, 0 archived\n# Dependencies: 6953\n# Files indexed: 79\n# Last scan: 2 hours ago\n```\n\n## 2. Add --json-lines output mode for streaming\nFor large outputs (graph, context), streaming JSONL is more memory-efficient:\n\n```bash\ncx graph Entity --hops 3 --format jsonl\n# {\"type\":\"node\",\"data\":{\"name\":\"Entity\",...}}\n# {\"type\":\"node\",\"data\":{\"name\":\"Store\",...}}\n# {\"type\":\"edge\",\"data\":{\"from\":\"Entity\",\"to\":\"Store\"}}\n```\n\n## 3. Improve smart context keyword extraction\nCurrent: `cx context --smart \"add rate limiting\"` matched random comments\nImprovement: Weight keywords by:\n- Entity names (highest weight)\n- Parameter names\n- Type names\n- Comments (lowest weight)\n\nAlso consider domain detection:\n- \"rate limiting\" → look for HTTP, API, middleware patterns\n- \"database\" → look for SQL, query, connection patterns\n- \"auth\" → look for login, token, session patterns\n\n## 4. Add cx diff command\nCompare two scans to see what changed:\n\n```bash\ncx diff --since \"2 hours ago\"\n# added:\n#   - NewFunction (internal/cmd/new.go:10)\n# modified:\n#   - ExistingFunction (body changed)\n# removed:\n#   - OldFunction\n```\n\n## 5. Quiet mode for scripting\n```bash\ncx scan --quiet  # No output, just exit code\ncx verify --quiet  # Exit 0 if valid, 1 if drifted\n```\n\n## Files to Modify\n- `internal/cmd/root.go` - Add status alias\n- `internal/output/formatter.go` - Add JSONL format\n- `internal/context/smart.go` - Improve keyword extraction\n- New: `internal/cmd/diff.go`\n- Various: Add --quiet flag\n\n## Acceptance Criteria\n- [ ] cx status works as alias\n- [ ] --format jsonl available\n- [ ] Smart context more relevant\n- [ ] cx diff shows changes since last scan\n- [ ] --quiet mode for scripting","status":"closed","priority":3,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T14:31:36.088219048Z","created_by":"hargabyte","updated_at":"2026-01-15T15:47:16.691537017Z","closed_at":"2026-01-15T15:47:16.691537017Z","close_reason":"Implemented all 5 AI-optimized output improvements: (1) cx status alias for db info, (2) --quiet flag for scripting, (3) --format jsonl streaming output, (4) cx diff command showing changes since last scan, (5) improved smart context keyword extraction with identifier-vs-generic separation and name-only matching"}
{"id":"cortex-3dm","title":"CX Documentation \u0026 Usability Improvements","description":"Epic for improving CX documentation and adding agent-friendly features based on audit findings.\n\nKey issues identified:\n1. CLAUDE.md documentation lags implementation significantly\n2. Missing commands: cx map, cx link, cx diff, cx status\n3. Incomplete flags documentation for cx context, cx impact, cx verify\n4. Outdated language support claims\n5. No agent-optimized help output\n6. No quickstart command for new projects\n\nThis epic covers:\n- Updating CLAUDE.md (both project and global)\n- Adding cx --help-agents command\n- Adding cx quickstart command\n- Improving cx prime output","status":"closed","priority":1,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-15T15:57:34.279290297Z","created_by":"hargabyte","updated_at":"2026-01-15T16:05:22.004397341Z","closed_at":"2026-01-15T16:05:22.004397341Z","close_reason":"Epic complete: Added help-agents, quickstart commands, enhanced prime output, and updated CLAUDE.md documentation"}
{"id":"cortex-3dm.1","title":"Update CLAUDE.md documentation","description":"Update both project CLAUDE.md and global ~/.claude/CLAUDE.md with:\n\n**Missing Commands to Add:**\n- cx map - Skeleton view of codebase (~10k tokens)\n- cx link - Links entities to beads/GitHub/Jira\n- cx diff - Shows changes since last scan\n- cx status - Alias for db info\n\n**Incomplete Flags to Document:**\n- cx context: --for-task, --exclude, --include, --depth, --budget-mode\n- cx impact: --create-task flag\n- cx verify: --create-task, --dry-run flags\n\n**Corrections:**\n- Update language support: Go, TypeScript, JavaScript, Java, Rust, Python (all supported now)\n\n**New Sections to Add:**\n- Pattern 5: New session orientation (cx prime, cx map, cx rank)\n- Pattern 6: Before refactoring (cx diff, cx impact, cx gaps)\n- Integration checklist for new projects","status":"closed","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T15:58:05.822927015Z","created_by":"hargabyte","updated_at":"2026-01-15T16:05:16.397274624Z","closed_at":"2026-01-15T16:05:16.397274624Z","close_reason":"Updated project CLAUDE.md with all missing commands (map, link, diff, status, quickstart, help-agents), usage patterns, and corrected language support","dependencies":[{"issue_id":"cortex-3dm.1","depends_on_id":"cortex-3dm","type":"parent-child","created_at":"2026-01-15T15:58:05.828594184Z","created_by":"hargabyte"},{"issue_id":"cortex-3dm.1","depends_on_id":"cortex-3dm.2","type":"blocks","created_at":"2026-01-15T15:58:24.283695516Z","created_by":"hargabyte"},{"issue_id":"cortex-3dm.1","depends_on_id":"cortex-3dm.3","type":"blocks","created_at":"2026-01-15T15:58:24.488391388Z","created_by":"hargabyte"},{"issue_id":"cortex-3dm.1","depends_on_id":"cortex-3dm.4","type":"blocks","created_at":"2026-01-15T15:58:24.708044426Z","created_by":"hargabyte"}]}
{"id":"cortex-3dm.2","title":"Implement cx --help-agents command","description":"Add a new flag --help-agents to cx that outputs an agent-optimized command reference.\n\n**Purpose:**\nAI agents need a quick, token-efficient reference for cx commands. The standard --help is verbose and not optimized for context windows.\n\n**Output Format:**\nYAML or compact markdown with:\n- Command name and one-line description\n- Most useful flags only (not all flags)\n- Common usage patterns\n- Token-efficient examples\n\n**Example Output:**\n```yaml\ncx_agent_reference:\n  version: '1.0'\n  essential:\n    prime: 'Context recovery - run at session start'\n    context: 'cx context --smart \"\u003ctask\u003e\" --budget 8000'\n    impact: 'cx impact \u003cfile\u003e - blast radius before changes'\n    map: 'cx map - project skeleton (~10k tokens)'\n  discovery:\n    search: 'cx search \"concept\" - semantic search'\n    find: 'cx find \u003cname\u003e - name-based search'\n    show: 'cx show \u003cname\u003e --density dense'\n    near: 'cx near \u003cname\u003e --depth 2'\n  analysis:\n    rank: 'cx rank --keystones - critical entities'\n    gaps: 'cx gaps --keystones-only - undertested code'\n    test-impact: 'cx test-impact --diff - smart test selection'\n```\n\n**Implementation:**\n- Add --help-agents flag to root.go\n- Output should be \u003c2000 tokens\n- Focus on agent workflows, not exhaustive documentation","status":"closed","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T15:58:07.68021294Z","created_by":"hargabyte","updated_at":"2026-01-15T16:05:10.798218024Z","closed_at":"2026-01-15T16:05:10.798218024Z","close_reason":"Implemented cx help-agents command that outputs agent-optimized YAML/JSON reference (~1500 tokens)","dependencies":[{"issue_id":"cortex-3dm.2","depends_on_id":"cortex-3dm","type":"parent-child","created_at":"2026-01-15T15:58:07.683822988Z","created_by":"hargabyte"}]}
{"id":"cortex-3dm.3","title":"Implement cx quickstart command","description":"Add a new cx quickstart command that runs the complete setup sequence for new projects.\n\n**Purpose:**\nNew users/agents should be able to get cx fully operational with a single command instead of remembering the multi-step setup.\n\n**What it does:**\n```bash\ncx quickstart\n# Equivalent to:\n# 1. cx init (if not already initialized)\n# 2. cx scan\n# 3. cx rank --recompute\n# 4. cx map --format text (show skeleton)\n# 5. cx rank --keystones --top 10 (show critical entities)\n```\n\n**Flags:**\n- --with-coverage: Also prompt for/import coverage data\n- --quiet: Skip the summary output\n- --force: Reinitialize even if .cx exists\n\n**Output:**\n```\ncx quickstart complete!\n\nDatabase: .cx/cx.db\nEntities: 1,234 (functions: 456, types: 123, methods: 655)\nLanguages: go\n\nTop Keystones:\n  1. Execute (function) - internal/cmd/root.go:49\n  2. Store.Query (method) - internal/store/db.go:89\n  ...\n\nNext steps:\n  cx context --smart \"your task\" --budget 8000\n  cx impact \u003cfile-to-modify\u003e\n```\n\n**Implementation:**\n- Create internal/cmd/quickstart.go\n- Reuse existing init, scan, rank logic\n- Add progress indicators for each step","status":"closed","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T15:58:09.455995705Z","created_by":"hargabyte","updated_at":"2026-01-15T16:05:11.024113733Z","closed_at":"2026-01-15T16:05:11.024113733Z","close_reason":"Implemented cx quickstart command that runs init+scan+rank in one step with summary","dependencies":[{"issue_id":"cortex-3dm.3","depends_on_id":"cortex-3dm","type":"parent-child","created_at":"2026-01-15T15:58:09.461868618Z","created_by":"hargabyte"}]}
{"id":"cortex-3dm.4","title":"Improve cx prime output","description":"Enhance cx prime to be more useful for AI agents recovering context.\n\n**Current Issues:**\n- Output is minimal, just workflow tips\n- Doesn't include project-specific context\n- Missing cx map integration\n\n**Improvements:**\n\n1. **Add project summary section:**\n```yaml\nproject:\n  path: /home/user/myproject\n  entities: 1,234\n  languages: [go]\n  last_scan: 2026-01-15T10:30:00Z\n  coverage: 67% (if available)\n```\n\n2. **Add top keystones (condensed):**\n```yaml\nkeystones:\n  - Execute @ internal/cmd/root.go:49\n  - Store.Query @ internal/store/db.go:89\n  - (8 more)\n```\n\n3. **Add recent changes (if any):**\n```yaml\nrecent_changes:\n  modified: 3 files\n  new_entities: 2\n  run 'cx diff' for details\n```\n\n4. **Keep workflow tips but make them more actionable**\n\n**Flags:**\n- --full: Include cx map skeleton output\n- --export: Output default content (existing)\n- --json: JSON format for programmatic use\n\n**Token Budget:**\n- Default: ~500 tokens\n- --full: ~2000 tokens (includes map skeleton)","status":"closed","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T15:58:10.793668748Z","created_by":"hargabyte","updated_at":"2026-01-15T16:05:11.244192864Z","closed_at":"2026-01-15T16:05:11.244192864Z","close_reason":"Enhanced cx prime with --full flag for keystones, added cx map and help-agents references","dependencies":[{"issue_id":"cortex-3dm.4","depends_on_id":"cortex-3dm","type":"parent-child","created_at":"2026-01-15T15:58:10.797155819Z","created_by":"hargabyte"}]}
{"id":"cortex-9g3","title":"CX 3.3: On-Demand MCP Server","description":"On-demand MCP server for iterative agent workflows. \n\n**Philosophy:** CLI for discovery, MCP for iteration.\n\n**Problem:** When doing heavy iterative work (20 impact checks during refactoring), spawning CLI commands is wasteful. But loading full MCP toolset at session start 'just in case' is also wasteful.\n\n**Solution:** Start MCP server on-demand when workload justifies it, with selective tool loading.\n\n**Usage Pattern:**\n```\nSession start:        cx prime, cx map...     (fast CLI)\nHeavy iterative work: cx serve --mcp --tools diff,impact\nWork work work...     (tools stay loaded)\nDone:                 cx serve --stop         (or auto-timeout)\n```\n\n**Key Features:**\n- cx serve --mcp: Start stdio MCP server\n- --tools flag: Selective tool exposure (don't load everything)\n- Auto-timeout: Don't leave servers running forever\n- Hot-reload: Add/remove tools without restart\n\n**Design Principles:**\n- This tool is for AI agents, not humans\n- CLI remains primary interface for quick queries\n- MCP is 'promotion' when iteration count justifies overhead","status":"open","priority":2,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:47:20.228870944Z","created_by":"hargabyte","updated_at":"2026-01-15T16:47:20.228870944Z"}
{"id":"cortex-9g3.1","title":"Feature: MCP Server Core (cx serve)","description":"Core MCP server implementation using stdio transport.\n\n**Commands:**\n- `cx serve --mcp` - Start MCP server (stdio transport)\n- `cx serve --stop` - Stop running server\n- `cx serve --status` - Check if server is running\n\n**Implementation:**\n1. Use mark3labs/mcp-go library for MCP protocol\n2. Stdio transport (not HTTP) for Claude Code compatibility\n3. PID file for server management\n4. Graceful shutdown on SIGTERM/SIGINT\n\n**Initial Tools to Expose:**\n- cx_diff: Changed entities since scan\n- cx_impact: Blast radius analysis\n- cx_context: Smart context assembly\n- cx_show: Entity details\n\n**Success Criteria:**\n- Can start/stop server from CLI\n- Claude Code can connect and call tools\n- Tools return structured responses","status":"closed","priority":1,"issue_type":"feature","assignee":"hargabyte","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:47:36.993211282Z","created_by":"hargabyte","updated_at":"2026-01-15T16:59:11.682556535Z","closed_at":"2026-01-15T16:59:11.682556535Z","close_reason":"Implemented MCP server core with cx serve command. Features: stdio transport, 6 tools (diff, impact, context, show, find, gaps), --tools flag for selective loading, --timeout for auto-shutdown, --status/--stop for lifecycle management, PID file tracking.","dependencies":[{"issue_id":"cortex-9g3.1","depends_on_id":"cortex-9g3","type":"parent-child","created_at":"2026-01-15T16:47:36.997053083Z","created_by":"hargabyte"}]}
{"id":"cortex-9g3.2","title":"Feature: Selective Tool Loading","description":"Load only the MCP tools needed for current workflow.\n\n**Commands:**\n- `cx serve --mcp --tools diff,impact` - Start with specific tools only\n- `cx serve --add-tool context` - Hot-add tool to running server\n- `cx serve --remove-tool diff` - Hot-remove tool from running server\n- `cx serve --list-tools` - Show available/loaded tools\n\n**Why This Matters:**\n- Reduces context window pollution\n- Agent only sees tools relevant to current task\n- Can adapt toolset as work evolves\n\n**Available Tools:**\n| Tool | Use Case |\n|------|----------|\n| cx_diff | Refactoring, change tracking |\n| cx_impact | Pre-modification safety |\n| cx_context | Context assembly loops |\n| cx_show | Entity deep-dives |\n| cx_find | Discovery (usually CLI is fine) |\n| cx_gaps | Coverage analysis |\n\n**Default Set:** diff, impact, context (most common iterative needs)","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:47:38.05692739Z","created_by":"hargabyte","updated_at":"2026-01-15T16:47:38.05692739Z","dependencies":[{"issue_id":"cortex-9g3.2","depends_on_id":"cortex-9g3","type":"parent-child","created_at":"2026-01-15T16:47:38.061354993Z","created_by":"hargabyte"},{"issue_id":"cortex-9g3.2","depends_on_id":"cortex-9g3.1","type":"blocks","created_at":"2026-01-15T16:47:44.420896078Z","created_by":"hargabyte"}]}
{"id":"cortex-9g3.3","title":"Feature: Auto-Timeout \u0026 Lifecycle","description":"Automatic server lifecycle management.\n\n**Commands:**\n- `cx serve --mcp --timeout 30m` - Auto-stop after 30 minutes\n- `cx serve --mcp --timeout 0` - No timeout (manual stop only)\n\n**Behaviors:**\n1. Default timeout: 30 minutes of inactivity\n2. Activity resets timer (any tool call)\n3. Clean shutdown: close connections, remove PID file\n4. Startup check: warn if server already running\n\n**Why This Matters:**\n- Agents might forget to stop server\n- Sessions end unexpectedly\n- Don't leave orphaned processes\n\n**Implementation:**\n- Track last activity timestamp\n- Background goroutine checks timeout\n- Graceful shutdown sequence","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:47:39.214378837Z","created_by":"hargabyte","updated_at":"2026-01-15T16:47:39.214378837Z","dependencies":[{"issue_id":"cortex-9g3.3","depends_on_id":"cortex-9g3","type":"parent-child","created_at":"2026-01-15T16:47:39.217688018Z","created_by":"hargabyte"},{"issue_id":"cortex-9g3.3","depends_on_id":"cortex-9g3.1","type":"blocks","created_at":"2026-01-15T16:47:44.649459649Z","created_by":"hargabyte"}]}
{"id":"cortex-aau","title":"CX 3.1: Change Safety \u0026 Validation","description":"Make code modification safer with pre-flight checks, semantic diff understanding, and commit guards.\n\n**Why P1:** These features directly prevent bugs. Every modification should be safer.\n\n**Core insight:** Before modifying code, developers/agents need to answer:\n1. What's the blast radius? (impact)\n2. Is it tested? (coverage gaps)\n3. Is my graph current? (verify/drift)\n4. What changed semantically? (not just lines)\n\n**Features:**\n- cx check: Single pre-flight safety command\n- cx diff --semantic: Understand what changed structurally\n- cx guard: Pre-commit hook integration\n\n**Depends on:** Coverage intelligence from cortex-iia (test coverage data)\n\n**Sprint:** 2 (after coverage foundation)","status":"open","priority":1,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:23:26.570284236Z","created_by":"hargabyte","updated_at":"2026-01-15T16:23:26.570284236Z","dependencies":[{"issue_id":"cortex-aau","depends_on_id":"cortex-iia.1","type":"blocks","created_at":"2026-01-15T16:23:34.261721452Z","created_by":"hargabyte"}]}
{"id":"cortex-aau.1","title":"Feature: Semantic Diff Analysis","description":"Understand what changed structurally, not just line-level diffs.\n\n**Why this is foundational:**\nSemantic diff powers cx check, cx guard, and --for-review context. It's the bridge between 'lines changed' and 'code meaning changed'.\n\n**Capabilities:**\n- Detect signature changes (breaking vs non-breaking)\n- Detect added/removed/modified entities\n- Track affected callers for breaking changes\n- Identify safe removals (0 callers)\n\n**Output example:**\nchanges:\n  modified:\n    - UserService.Create:\n        change_type: signature_change\n        breaking: true\n        affected_callers: 5\n  added:\n    - UserService.CreateBatch\n  removed:\n    - UserService.CreateLegacy:\n        was_called_by: 0 (safe)\n\n**Technical approach:**\n1. Compare current AST with last-scanned state\n2. Classify changes by type (signature, body, added, removed)\n3. Cross-reference with dependency graph for impact","status":"open","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:23:56.854711313Z","created_by":"hargabyte","updated_at":"2026-01-15T16:23:56.854711313Z","dependencies":[{"issue_id":"cortex-aau.1","depends_on_id":"cortex-aau","type":"parent-child","created_at":"2026-01-15T16:23:56.859192381Z","created_by":"hargabyte"}]}
{"id":"cortex-aau.2","title":"Feature: Pre-Flight Safety Check (cx check)","description":"Single command to answer 'is it safe to modify this?'\n\n**Problem solved:**\nCurrently need to run cx impact, cx gaps, cx verify separately. cx check combines them into one actionable output.\n\n**Command:**\ncx check \u003cfile-or-entity\u003e\n\n**Output:**\nsafety_assessment:\n  impact_radius: 12 entities affected\n  keystone_entities: [LoginUser, ValidateToken]\n  coverage_gaps:\n    - LoginUser: 45% (error paths untested)\n  drift_detected: false\n  \nwarnings:\n  - 'LoginUser is a keystone with \u003c50% coverage'\n  \nrecommendation: 'Add tests for error paths before modifying'\n\n**Implementation:**\n1. Run impact analysis on target\n2. Check coverage for affected entities\n3. Run verify for drift detection\n4. Aggregate into risk assessment\n5. Generate actionable recommendations","status":"open","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:23:58.250466797Z","created_by":"hargabyte","updated_at":"2026-01-15T16:23:58.250466797Z","dependencies":[{"issue_id":"cortex-aau.2","depends_on_id":"cortex-aau","type":"parent-child","created_at":"2026-01-15T16:23:58.25363321Z","created_by":"hargabyte"},{"issue_id":"cortex-aau.2","depends_on_id":"cortex-aau.1","type":"blocks","created_at":"2026-01-15T16:24:04.721286014Z","created_by":"hargabyte"}]}
{"id":"cortex-aau.3","title":"Feature: Pre-Commit Guard (cx guard)","description":"Pre-commit hook integration to catch problems before they're committed.\n\n**Problem solved:**\nQuality issues discovered after commit/push are expensive. Shift-left by catching them at commit time.\n\n**Command:**\ncx guard --staged  # In .git/hooks/pre-commit\n\n**Checks performed:**\n1. Coverage regression: Did coverage decrease for modified keystones?\n2. New untested code: Are there new entities with 0% coverage?\n3. Breaking changes: Are there signature changes with unchecked callers?\n4. Graph drift: Is the cx database out of sync?\n\n**Output:**\ncx guard: 2 warnings, 1 error\n\nERROR: PaymentService.Charge coverage dropped from 78% to 45%\n  Recommendation: Add tests before committing\n\nWARNING: New entity OrderService.Cancel has no test coverage\nWARNING: UserService.Create signature changed, 3 callers may be affected\n\n**Exit codes:**\n0 = pass\n1 = warnings only (configurable to pass/fail)\n2 = errors (always fails)\n\n**Configuration:**\n.cx/config.yaml:\n  guard:\n    fail_on_coverage_regression: true\n    min_coverage_for_keystones: 50\n    fail_on_warnings: false","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:00.263012208Z","created_by":"hargabyte","updated_at":"2026-01-15T16:24:00.263012208Z","dependencies":[{"issue_id":"cortex-aau.3","depends_on_id":"cortex-aau","type":"parent-child","created_at":"2026-01-15T16:24:00.268048169Z","created_by":"hargabyte"},{"issue_id":"cortex-aau.3","depends_on_id":"cortex-aau.2","type":"blocks","created_at":"2026-01-15T16:24:04.94126411Z","created_by":"hargabyte"}]}
{"id":"cortex-div","title":"CX 3.2: Context Quality \u0026 Workflow","description":"Smarter context assembly for different workflows: modification, review, exploration.\n\n**Why P2:** Builds on safety + coverage to provide task-appropriate context.\n\n**Core insight:** Different tasks need different context:\n- Understanding code → show dependencies, callers, docs\n- Modifying code → show tests, callers that might break, similar patterns\n- Reviewing changes → show context around what changed\n\n**Features:**\n- cx context --for-change: Modification-focused context\n- cx context --for-review: Review-focused context  \n- cx similar: Find structurally similar code\n- cx prime --session: Richer session initialization\n\n**Depends on:** Change Safety (cortex-iib) for semantic diff integration\n\n**Sprint:** 2-3","status":"open","priority":2,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:23:27.872692987Z","created_by":"hargabyte","updated_at":"2026-01-15T16:23:27.872692987Z","dependencies":[{"issue_id":"cortex-div","depends_on_id":"cortex-aau","type":"blocks","created_at":"2026-01-15T16:23:35.083601017Z","created_by":"hargabyte"}]}
{"id":"cortex-div.1","title":"Feature: Modification-Focused Context","description":"Context assembly optimized for code modification, not just understanding.\n\n**Problem:**\n--smart finds relevant code for understanding. But modification needs different context:\n- Tests I need to update\n- Callers that might break  \n- Similar patterns for consistency\n- Coverage gaps to be aware of\n\n**Command:**\ncx context --for-change 'add validation to UserService.Create'\n\n**Output includes:**\n- Target entity and its code\n- All callers (they might break)\n- Test files covering this entity\n- Similar methods in codebase (for consistency)\n- Coverage gaps in target\n- Suggested test cases for new functionality\n\n**Differences from --smart:**\n| --smart | --for-change |\n|---------|--------------|\n| Understanding focus | Modification focus |\n| Excludes tests | Includes relevant tests |\n| Shows dependencies | Shows callers prominently |\n| No coverage info | Highlights coverage gaps |\n\n**Technical approach:**\n1. Parse intent to identify target entity\n2. Include target + callers + tests (not just deps)\n3. Find similar patterns via signature matching\n4. Annotate with coverage data","status":"open","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:35.461097397Z","created_by":"hargabyte","updated_at":"2026-01-15T16:24:35.461097397Z","dependencies":[{"issue_id":"cortex-div.1","depends_on_id":"cortex-div","type":"parent-child","created_at":"2026-01-15T16:24:35.46495805Z","created_by":"hargabyte"}]}
{"id":"cortex-div.2","title":"Feature: Review-Focused Context","description":"Context assembly for code review - understand what changed and its implications.\n\n**Problem:**\nWhen reviewing a PR, I need context around what changed, not a task description.\n\n**Command:**\ncx context --for-review --diff HEAD~1\ncx context --for-review --file changed_files.txt\ncx context --for-review --pr 123  # GitHub integration\n\n**Output includes:**\n- All modified entities with semantic change type\n- Callers of modified entities (might be affected)\n- Tests that cover modified code\n- Breaking change warnings\n- Coverage impact (did coverage go up/down?)\n\n**Output structure:**\nreview_context:\n  changes_summary:\n    modified: 3 entities\n    added: 1 entity\n    removed: 0 entities\n    breaking_changes: 1\n    \n  entities:\n    - UserService.Create:\n        change_type: signature_change\n        breaking: true\n        callers: [Handler.CreateUser, AdminService.Bulk]\n        tests: [TestCreate_Success, TestCreate_Error]\n        coverage_before: 78%\n        coverage_after: 65%  # Warning!\n\n**Technical approach:**\n1. Use semantic diff to identify changes\n2. Expand context around each changed entity\n3. Include callers and tests\n4. Compute coverage delta if available","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:36.351172126Z","created_by":"hargabyte","updated_at":"2026-01-15T16:24:36.351172126Z","dependencies":[{"issue_id":"cortex-div.2","depends_on_id":"cortex-div","type":"parent-child","created_at":"2026-01-15T16:24:36.355684528Z","created_by":"hargabyte"},{"issue_id":"cortex-div.2","depends_on_id":"cortex-aau.1","type":"blocks","created_at":"2026-01-15T16:24:42.169859725Z","created_by":"hargabyte"}]}
{"id":"cortex-div.3","title":"Feature: Pattern Matching (cx similar)","description":"Find structurally similar code for consistency and learning.\n\n**Problem:**\nWhen implementing something, I want to find 'how was this done elsewhere?' Current search is keyword-based, not structure-based.\n\n**Command:**\ncx similar HandleCreateUser\ncx similar --signature 'func (*Service) Create(ctx, req) error'\n\n**Output:**\nsimilar_entities:\n  - HandleUpdateUser:\n      similarity: 92%\n      match_reasons: [same_receiver_type, similar_signature, similar_deps]\n      location: internal/handlers/user.go:89\n      \n  - HandleDeleteUser:\n      similarity: 85%\n      match_reasons: [same_receiver_type, similar_signature]\n      location: internal/handlers/user.go:120\n      \n  - HandleCreateOrder:\n      similarity: 70%\n      match_reasons: [similar_signature, similar_structure]\n      location: internal/handlers/order.go:45\n\n**Similarity factors:**\n- Signature shape (params, returns)\n- Receiver type\n- Dependency pattern (what it calls)\n- Structure (control flow shape)\n- Naming pattern\n\n**Use cases:**\n- Consistency: 'How do other handlers do error handling?'\n- Learning: 'Show me examples of validation patterns'\n- Refactoring: 'Find all methods that follow this pattern'","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:37.255780351Z","created_by":"hargabyte","updated_at":"2026-01-15T16:24:37.255780351Z","dependencies":[{"issue_id":"cortex-div.3","depends_on_id":"cortex-div","type":"parent-child","created_at":"2026-01-15T16:24:37.260352294Z","created_by":"hargabyte"}]}
{"id":"cortex-div.4","title":"Feature: Enhanced Session Prime","description":"Richer session initialization with actionable context.\n\n**Problem:**\ncx prime gives workflow context but could give more actionable info for starting a session.\n\n**Command:**\ncx prime --session\n\n**Enhanced output includes:**\n- Standard workflow context (existing)\n- Recent changes since last scan\n- Hot spots (frequently modified code)\n- Current coverage state summary\n- Stale entity warnings\n- Ready beads/tasks (if integrated)\n- Suggested first commands\n\n**Output addition:**\nsession_context:\n  last_scan: 2h ago\n  changes_since_scan: 5 files modified\n  \n  hot_spots:  # High churn code\n    - internal/auth/login.go: 12 commits this week\n    - internal/handlers/user.go: 8 commits this week\n    \n  coverage_summary:\n    overall: 67%\n    keystones_below_50: 3\n    \n  warnings:\n    - 'Graph may be stale: 5 files modified since scan'\n    - '3 keystones have \u003c50% coverage'\n    \n  suggested_commands:\n    - cx scan  # If stale\n    - cx gaps --keystones-only  # Coverage issues\n\n**Why P3:** Nice to have, but core functionality works without it.","status":"open","priority":3,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:38.259321771Z","created_by":"hargabyte","updated_at":"2026-01-15T16:24:38.259321771Z","dependencies":[{"issue_id":"cortex-div.4","depends_on_id":"cortex-div","type":"parent-child","created_at":"2026-01-15T16:24:38.26539439Z","created_by":"hargabyte"}]}
{"id":"cortex-iia","title":"CX 3.0: Runtime \u0026 Test Intelligence","description":"Extend cx beyond static analysis into runtime behavior and test coverage intelligence. Addresses the fundamental limitation of static analysis: it shows what *could* happen, not what *does* happen.\n\nKey capabilities:\n- Phase 5: Runtime Behavior Analysis (trace, runtime compare, profile)\n- Phase 6: Test Coverage Intelligence (coverage mapping, gaps, test-impact, dead tests)\n- Combined risk scoring (static + runtime + coverage)\n\nSee docs/cx-3.0-runtime-test-spec.md for full specification.","status":"open","priority":2,"issue_type":"epic","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:10:10.070609302Z","created_by":"hargabyte","updated_at":"2026-01-15T16:10:10.070609302Z"}
{"id":"cortex-iia.1","title":"Feature: Test Coverage Intelligence","description":"The most valuable enhancement for AI-assisted development. Maps test coverage to cx entities.\n\n**Why P1 (highest priority for 3.0):**\n- 'Is this function tested?' is the most basic quality question\n- Keystones with 0% coverage are ticking time bombs\n- cx gaps --keystones-only would catch dangerous modifications BEFORE they happen\n- cx test-impact enables smart test selection (huge CI time savings)\n\n**Capabilities:**\n1. cx coverage import - Map coverage.out to entities\n2. cx gaps - Find high-importance + low-coverage combinations  \n3. cx test-impact - Given changes, identify which tests to run\n4. Dead test detection - Find tests that waste CI time\n\n**Technical approach:**\n- Parse go test -coverprofile output\n- Map coverage blocks to entity line ranges\n- Store in test_coverage table\n- Cross-reference with importance metrics","status":"closed","priority":1,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:10:20.609464721Z","created_by":"hargabyte","updated_at":"2026-01-15T16:34:18.073880728Z","closed_at":"2026-01-15T16:34:18.073880728Z","close_reason":"Feature complete: Coverage import, gaps detection, test-impact, show --coverage, and context --with-coverage all implemented and working. Only P3 'Dead Test Detection' remains as future enhancement.","dependencies":[{"issue_id":"cortex-iia.1","depends_on_id":"cortex-iia","type":"parent-child","created_at":"2026-01-15T16:10:20.612819876Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.1","title":"Coverage Import \u0026 Entity Mapping","description":"Parse coverage.out and map coverage blocks to cx entities.\n\n**Acceptance criteria:**\n- Parse go test -coverprofile=coverage.out format\n- Parse GOCOVERDIR format (Go 1.20+ integration testing)\n- Map coverage blocks (file:startLine-endLine) to entity IDs\n- Store in test_coverage table with coverage_percent per entity\n- Handle partial coverage (entity spans multiple coverage blocks)\n\n**Technical notes:**\n- Coverage format: file:startLine.startCol,endLine.endCol numStmt count\n- Entity lookup by file + line range overlap\n- Aggregate multiple blocks covering same entity\n\n**Commands:**\n- cx coverage import coverage.out\n- cx coverage import --gocoverdir=./coverage/\n\n**Schema addition:**\nCREATE TABLE entity_coverage (\n  entity_id TEXT PRIMARY KEY,\n  coverage_percent REAL,\n  covered_lines TEXT,  -- JSON array\n  uncovered_lines TEXT,\n  last_updated TEXT\n);","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:11:07.50172187Z","created_by":"hargabyte","updated_at":"2026-01-15T16:28:10.145117514Z","closed_at":"2026-01-15T16:28:10.145117514Z","close_reason":"Already implemented: parser.go, mapper.go, coverage.go command all working. cx coverage import works with both coverage.out and GOCOVERDIR.","dependencies":[{"issue_id":"cortex-iia.1.1","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:11:07.505360065Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.2","title":"cx gaps: Coverage Gap Detection","description":"Find dangerous combination: high importance + low coverage.\n\n**Acceptance criteria:**\n- cx gaps - Show all coverage gaps\n- cx gaps --keystones-only - Only keystones (PageRank \u003e threshold)\n- cx gaps --threshold 50 - Below specified coverage %\n- cx gaps --create-tasks - Create beads for each gap (bd integration)\n- Output categorized by risk: critical (\u003c25%), high (25-50%), moderate (50-75%)\n\n**Output format:**\ncoverage_gaps:\n  critical:\n    - PaymentProcessor.Charge:\n        importance: keystone\n        in_degree: 8\n        coverage: 12%\n        risk: CRITICAL\n        recommendation: 'Stop. Add tests before ANY changes.'\n\n**Why this matters for AI agents:**\nBefore modifying code, cx gaps --keystones-only tells me if I'm about to touch undertested critical code. This prevents introducing bugs in important, untested paths.","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:11:08.753520451Z","created_by":"hargabyte","updated_at":"2026-01-15T16:28:10.934094473Z","closed_at":"2026-01-15T16:28:10.934094473Z","close_reason":"Already implemented: cx gaps command working with --keystones-only, --threshold, --create-tasks flags.","dependencies":[{"issue_id":"cortex-iia.1.2","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:11:08.759396876Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.2","depends_on_id":"cortex-iia.1.1","type":"blocks","created_at":"2026-01-15T16:11:18.144998442Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.3","title":"cx test-impact: Smart Test Selection","description":"Given changes, identify exactly which tests need to run.\n\n**STATUS: 90% Complete**\n- cx test-impact command fully implemented\n- Supports --diff, --commit, file/directory args\n- Finds direct, indirect, and integration tests\n- Generates go test -run command\n- --output-command flag for scripting\n\n**Remaining work:**\n1. Depends on test_entity_map being populated (cortex-iia.1.4)\n2. Currently shows 'No tests affected' because test_entity_map is empty\n\n**Once test mapping works, this is complete.**","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:11:10.18832747Z","created_by":"hargabyte","updated_at":"2026-01-15T16:34:06.331405173Z","closed_at":"2026-01-15T16:34:06.331405173Z","close_reason":"Already implemented and now working with per-test coverage data. cx test-impact correctly identifies affected tests using test_entity_map populated by per-test coverage import.","dependencies":[{"issue_id":"cortex-iia.1.3","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:11:10.193994835Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.3","depends_on_id":"cortex-iia.1.1","type":"blocks","created_at":"2026-01-15T16:11:18.372221856Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.3","depends_on_id":"cortex-iia.1.4","type":"blocks","created_at":"2026-01-15T16:11:18.590253976Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.4","title":"Test-to-Entity Mapping","description":"Map test functions to the production entities they test.\n\n**STATUS: 80% Complete**\n- Schema exists (test_entity_map table)\n- GOCOVERDIR parsing implemented (parser_gocoverdir.go)\n- StoreTestEntityMappings function exists\n- GetTestsForEntity/GetEntitiesForTest implemented\n\n**Remaining work:**\n1. Verify per-test GOCOVERDIR workflow actually populates test_entity_map\n2. Improve deriveTestFile() to actually find test file locations (currently uses placeholder)\n3. Add documentation for per-test coverage collection workflow\n\n**Current limitation:**\nTraditional coverage.out doesn't have per-test attribution. Need GOCOVERDIR with per-test subdirectories.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:11:11.166983677Z","created_by":"hargabyte","updated_at":"2026-01-15T16:34:04.463570381Z","closed_at":"2026-01-15T16:34:04.463570381Z","close_reason":"Implemented per-test coverage directory support. Added ParsePerTestCoverageDir() and MergeCoverageFiles() functions. Directory with TestName.out files now properly populates test_entity_map. Updated documentation to show correct per-test workflow using -coverprofile instead of incorrect GOCOVERDIR approach.","dependencies":[{"issue_id":"cortex-iia.1.4","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:11:11.172495496Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.5","title":"Dead Test Detection","description":"Find tests that waste CI time.\n\n**Acceptance criteria:**\n- cx tests --dead - Find dead/wasteful tests\n- Detect tests for dead code (production code never called)\n- Detect tests that don't exercise production code (only test helpers)\n- Detect slow tests (dominate CI time)\n- Output recommendations (delete, review, parallelize)\n\n**Categories:**\n1. tests_dead_code: Tests for code that's never called\n2. tests_nothing: Tests with 0% production coverage\n3. slow_tests: Tests that take \u003e30% of total time\n\n**Why P3:**\nNice to have but less critical than gaps/test-impact. Dead tests are annoying but not dangerous like untested keystones.","status":"open","priority":3,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:11:11.533433094Z","created_by":"hargabyte","updated_at":"2026-01-15T16:11:11.533433094Z","dependencies":[{"issue_id":"cortex-iia.1.5","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:11:11.53621881Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.5","depends_on_id":"cortex-iia.1.4","type":"blocks","created_at":"2026-01-15T16:11:18.830304545Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.6","title":"cx show --coverage: Coverage in Entity Display","description":"Add coverage information to cx show output.\n\n**Acceptance criteria:**\n- cx show \u003centity\u003e displays coverage info when available\n- cx show \u003centity\u003e --coverage forces coverage display\n- Shows: coverage %, tested_by (test names), uncovered_lines\n\n**Output addition:**\ncoverage:\n  tested: true\n  percent: 78%\n  tested_by:\n    - TestUserService_Create_Success @ service_test.go:20\n    - TestUserService_Create_Error @ service_test.go:45\n  uncovered_lines: [68-74]\n  uncovered_reason: 'Error path when db.Create fails'\n\n**Depends on:** Coverage Import (cortex-iia.1.1)","status":"closed","priority":1,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:55.133248699Z","created_by":"hargabyte","updated_at":"2026-01-15T16:28:12.277190888Z","closed_at":"2026-01-15T16:28:12.277190888Z","close_reason":"Already implemented: cx show --coverage flag shows coverage percent, tested_by, uncovered_lines.","dependencies":[{"issue_id":"cortex-iia.1.6","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:24:55.136290271Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.6","depends_on_id":"cortex-iia.1.1","type":"blocks","created_at":"2026-01-15T16:25:02.216503946Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.1.7","title":"cx context --with-coverage: Coverage-Aware Context","description":"Include coverage information in context assembly.\n\n**Acceptance criteria:**\n- cx context --smart '...' --with-coverage includes coverage data\n- Coverage gaps highlighted in relevant entities\n- Keystones with low coverage get warning annotations\n\n**Output enhancement:**\nrelevant:\n  - UserService.Create:\n      relevance: high\n      coverage: 45%  # Added\n      coverage_warning: 'Keystone below 50% - add tests before modifying'\n\n**Why useful:**\nWhen assembling context for a task, knowing which relevant code is undertested helps prioritize test writing.","status":"closed","priority":2,"issue_type":"task","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:24:56.311445732Z","created_by":"hargabyte","updated_at":"2026-01-15T16:34:05.356063761Z","closed_at":"2026-01-15T16:34:05.356063761Z","close_reason":"Implemented --with-coverage flag for cx context command. Adds coverage percentage and coverage_warning fields to relevant entities. Warnings appear for keystones with \u003c50% coverage. Updated help text with documentation and examples.","dependencies":[{"issue_id":"cortex-iia.1.7","depends_on_id":"cortex-iia.1","type":"parent-child","created_at":"2026-01-15T16:24:56.315148802Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.1.7","depends_on_id":"cortex-iia.1.1","type":"blocks","created_at":"2026-01-15T16:25:02.441486023Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.2","title":"Feature: Runtime Behavior Analysis","description":"Capture and analyze actual execution paths from running applications.\n\n**Why P2:**\n- Valuable but requires more infrastructure (instrumentation, trace collection)\n- Static analysis + coverage already provides 80% of value\n- Runtime analysis is 'nice to have' for resolving interface ambiguity\n\n**Capabilities:**\n1. cx trace - Capture runtime call graphs from pprof/OTEL/custom sources\n2. cx runtime compare - Static vs runtime comparison (find dead code)\n3. cx profile - Performance-aware context (include hot paths)\n\n**Use cases:**\n- Resolve interface implementations (which one is actually used?)\n- Identify definitively dead code (never executed)\n- Find hot paths for optimization tasks\n\n**Technical approach:**\n- Import from pprof, OpenTelemetry, custom JSONL\n- Compare runtime edges with static edges\n- Integrate with context assembly","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:10:34.536291413Z","created_by":"hargabyte","updated_at":"2026-01-15T16:10:34.536291413Z","dependencies":[{"issue_id":"cortex-iia.2","depends_on_id":"cortex-iia","type":"parent-child","created_at":"2026-01-15T16:10:34.539987635Z","created_by":"hargabyte"}]}
{"id":"cortex-iia.3","title":"Feature: Combined Risk Scoring","description":"Combine static analysis, runtime data, and test coverage into unified risk assessment.\n\n**Why P2:**\n- Depends on coverage intelligence being complete\n- High value but builds on foundation features\n\n**Capabilities:**\n1. cx show \u003centity\u003e --full - Combined view (static + runtime + coverage)\n2. Risk scoring algorithm - Weight importance, coverage, runtime stability\n3. Recommendations engine - 'Add error path tests before modifying'\n\n**Output example:**\ncombined_risk:\n  score: MEDIUM\n  factors:\n    - keystone: HIGH (many dependents)\n    - coverage: MEDIUM (78%)\n    - runtime: LOW (stable, no errors)\n  recommendation: 'Add error path tests before modifying'\n\n**Technical approach:**\n- Aggregate data from all sources\n- Weighted scoring based on factor importance\n- Generate actionable recommendations","status":"open","priority":2,"issue_type":"feature","owner":"hargabyte@gmail.com","created_at":"2026-01-15T16:10:35.900565875Z","created_by":"hargabyte","updated_at":"2026-01-15T16:10:35.900565875Z","dependencies":[{"issue_id":"cortex-iia.3","depends_on_id":"cortex-iia","type":"parent-child","created_at":"2026-01-15T16:10:35.90611118Z","created_by":"hargabyte"},{"issue_id":"cortex-iia.3","depends_on_id":"cortex-iia.1","type":"blocks","created_at":"2026-01-15T16:11:23.448317464Z","created_by":"hargabyte"}]}
